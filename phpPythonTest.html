<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <script type="text/javascript" src="js/jquery/jquery-1.11.3.min.js"></script>
    <script type="text/javascript" src="js/cesium/Cesium.js"></script>
</head>
<body>
<button onclick="postSth();">点击一下</button>
<script>
    function postSth() {
//        var pointA = new Cesium.Cartesian3(-5202210.559014506, 1994607.3339636736, (-3094293.1584207197));
//        var pointB = new Cesium.Cartesian3(-5198621.798053595, 1994341.8700860739, (-3100448.0659037554));
        var pointA = new Array(-5202210.559014506, 1994607.3339636736, (-3094293.1584207197));
        var pointB = new Array(-5198621.798053595, 1994341.8700860739, (-3100448.0659037554));
        var distance = 600000;
        $.ajaxSettings.async = false;
//        $.getJSON("php/getTLE/getSthFromPython.php?pointA=" + poingA+"&pointB="+pointB+"&distance="+distance, function (data, testStatus) {
        $.getJSON("php/getTLE/getSthFromPython.php", {
            'pointA': pointA,
            'pointB': pointB,
            'distance': distance
        }, function (data, testStatus) {

            console.log(data);
            getPointFromPython(data);
        });
        $.ajaxSettings.async = true;
    }


    function getPointFromPython(data){
        var dataString,str,
                pointX,pointY, pointZ,
                newCartesian;
        dataString = data[0].toString();
        dataString = dataString.slice(1, dataString.length - 1);
        str = dataString.split(/\s+/);
        if(str.length>3){
            str.shift();
        }
        pointX=parseFloat(str[0]);
        pointY=parseFloat(str[1]);
        pointZ=parseFloat(str[2]);

        newCartesian = new Cesium.Cartesian3(pointX, pointY, pointZ);
        return newCartesian;
    }
    function getPointFromPython1(data) {
        var dataString,
                firstIndex, pointX,
                secondIndex, pointY, pointZ,
                newCartesian;
        dataString = data[0].toString();
//        dataString="[ 5203028.39351962 -1343826.39928691 -3100340.52965733]";
//        dataString = "[-5203028.39351962 -1343826.39928691  3100340.52965733]";
        dataString = dataString.replace(/ /g, "!");
        firstIndex = dataString.indexOf("!");
        if(firstIndex==1){
            firstIndex=dataString.indexOf("!",3);
            pointX = parseFloat(dataString.slice(2, firstIndex));
        }else{
            pointX = parseFloat(dataString.slice(1, firstIndex));
        }
        secondIndex = dataString.indexOf("!", firstIndex + 1);
        if(secondIndex==firstIndex + 1){
            secondIndex=dataString.indexOf("!",firstIndex + 2);
            pointY = parseFloat(dataString.slice(firstIndex+2, secondIndex));
        }else{
            pointY = parseFloat(dataString.slice(firstIndex+1, secondIndex));
        }
        if(dataString.indexOf("!",secondIndex + 1)==secondIndex + 1){
            pointZ = parseFloat(dataString.slice(secondIndex+2, dataString.length - 1));
        }else{
            pointZ = parseFloat(dataString.slice(secondIndex+1, dataString.length - 1));
        }

        newCartesian = new Cesium.Cartesian3(pointX, pointY, pointZ);
        return newCartesian;
    }
</script>
</body>
</html>